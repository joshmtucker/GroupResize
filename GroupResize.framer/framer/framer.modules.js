require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"GroupResize":[function(require,module,exports){
// Generated by CoffeeScript 1.9.1
var defaults,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

defaults = {
  props: {
    resizeChildren: true,
    resizing: "none"
  },
  resizingTypes: ["none", "stretchWidth", "stretchHeight", "stretch", "pinX", "pinY", "pin", "resizeWidth", "resizeHeight", "resize", "floatX", "floatY", "float"]
};

exports.GroupResizeLayer = (function(superClass) {
  extend(GroupResizeLayer, superClass);

  function GroupResizeLayer(opts) {
    var key, ref, value;
    if (opts == null) {
      opts = {};
    }
    ref = defaults.props;
    for (key in ref) {
      value = ref[key];
      if (opts[key] == null) {
        opts[key] = value;
      }
    }
    GroupResizeLayer.__super__.constructor.call(this, opts);
  }

  GroupResizeLayer.prototype._onResize = function() {
    var child, i, len, ref, results;
    if (this.children.length === 0) {
      return;
    }
    ref = this.children;
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      child = ref[i];
      if (child.resizing !== "none") {
        results.push(this._resizeChild(child));
      }
    }
    return results;
  };

  GroupResizeLayer.prototype._setResizeProps = function() {
    if (this.parent === null) {
      return;
    }
    this._resizeProps = {};
    this._resizeProps.float = {
      midX: this.midX / this.parent.width,
      midY: this.midY / this.parent.height
    };
    this._resizeProps.resize = {
      width: this.width / this.parent.width,
      height: this.height / this.parent.height,
      midX: this._resizeProps.float.midX,
      midY: this._resizeProps.float.midY
    };
    this._resizeProps.stretch = {
      width: this._resizeProps.resize.width,
      height: this._resizeProps.resize.height
    };
    return this._resizeProps.pin = {
      maxX: this.parent.width - this.maxX,
      maxY: this.parent.height - this.maxY
    };
  };

  GroupResizeLayer.prototype._resizeChild = function(child) {
    var key, ref, results, updatedProps, value;
    updatedProps = {};
    updatedProps.floatX = {
      midX: child.parent.width * child._resizeProps.float.midX
    };
    updatedProps.floatY = {
      midY: child.parent.height * child._resizeProps.float.midY
    };
    updatedProps.float = {
      midX: child.parent.width * child._resizeProps.float.midX,
      midY: child.parent.height * child._resizeProps.float.midY
    };
    updatedProps.resizeWidth = {
      width: child.parent.width * child._resizeProps.resize.width,
      midX: updatedProps.float.midX
    };
    updatedProps.resizeHeight = {
      height: child.parent.height * child._resizeProps.resize.height,
      midY: updatedProps.float.midY
    };
    updatedProps.resize = {
      width: child.parent.width * child._resizeProps.resize.width,
      height: child.parent.height * child._resizeProps.resize.height,
      midX: updatedProps.float.midX,
      midY: updatedProps.float.midY
    };
    updatedProps.stretchWidth = {
      width: updatedProps.resize.width
    };
    updatedProps.stretchHeight = {
      height: updatedProps.resize.height
    };
    updatedProps.stretch = {
      width: updatedProps.resize.width,
      height: updatedProps.resize.height
    };
    updatedProps.pinX = {
      maxX: child.parent.width - child._resizeProps.pin.maxX
    };
    updatedProps.pinY = {
      maxY: child.parent.height - child._resizeProps.pin.maxY
    };
    updatedProps.pin = {
      maxX: child.parent.width - child._resizeProps.pin.maxX,
      maxY: child.parent.height - child._resizeProps.pin.maxY
    };
    ref = updatedProps[child.resizing];
    results = [];
    for (key in ref) {
      value = ref[key];
      results.push(child[key] = value);
    }
    return results;
  };

  GroupResizeLayer.define("resizeChildren", {
    get: function() {
      return this._resizeChildren;
    },
    set: function(value) {
      if (_.isBoolean(value) === false) {
        throw Error("ResizeChildren must be true or false");
      }
      if (value) {
        this.on("change:size", this._onResize);
      } else {
        this.off("change:size", this._onResize);
      }
      return this._resizeChildren = value;
    }
  });

  GroupResizeLayer.define("resizing", {
    get: function() {
      return this._resizing;
    },
    set: function(value) {
      if (_.indexOf(defaults.resizingTypes, value) === -1) {
        throw Error("'" + value + "' isn't a supported resizing type");
      }
      this.on("change:frame", this._setResizeProps);
      this.on("change:parent", this._setResizeProps);
      this._setResizeProps();
      return this._resizing = value;
    }
  });

  GroupResizeLayer.mixin = function(Class) {
    var capitalizeFirstLetter, cleanClassName, key, ref, value;
    cleanClassName = /layer/i.test(Class.name) ? "Layer" : Class.name;
    capitalizeFirstLetter = function(string) {
      return string.charAt(0).toUpperCase() + string.slice(1);
    };
    ref = defaults.props;
    for (key in ref) {
      value = ref[key];
      Framer.Defaults[cleanClassName][key] = value;
      Class.define(key, {
        configurable: true,
        get: this.prototype["get" + (capitalizeFirstLetter(key))],
        set: this.prototype["set" + (capitalizeFirstLetter(key))]
      });
    }
    Class.prototype._onResize = this.prototype._onResize;
    Class.prototype._setResizeProps = this.prototype._setResizeProps;
    return Class.prototype._resizeChild = this.prototype._resizeChild;
  };

  return GroupResizeLayer;

})(Layer);

},{}],"GroupResize":[function(require,module,exports){
var defaults,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

defaults = {
  props: {
    resizeChildren: true,
    resizing: "none"
  },
  resizingTypes: ["none", "stretchWidth", "stretchHeight", "stretch", "pinX", "pinY", "pin", "resizeWidth", "resizeHeight", "resize", "floatX", "floatY", "float"]
};

exports.GroupResizeLayer = (function(superClass) {
  extend(GroupResizeLayer, superClass);

  function GroupResizeLayer(opts) {
    var key, ref, value;
    if (opts == null) {
      opts = {};
    }
    ref = defaults.props;
    for (key in ref) {
      value = ref[key];
      if (opts[key] == null) {
        opts[key] = value;
      }
    }
    GroupResizeLayer.__super__.constructor.call(this, opts);
  }

  GroupResizeLayer.prototype._onResize = function() {
    var child, i, len, ref, results;
    if (this.children.length === 0) {
      return;
    }
    ref = this.children;
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      child = ref[i];
      if (child.resizing !== "none") {
        results.push(this._resizeChild(child));
      }
    }
    return results;
  };

  GroupResizeLayer.prototype._setResizeProps = function() {
    if (this.parent === null) {
      return;
    }
    this._resizeProps = {};
    this._resizeProps.float = {
      midX: this.midX / this.parent.width,
      midY: this.midY / this.parent.height
    };
    this._resizeProps.resize = {
      width: this.width / this.parent.width,
      height: this.height / this.parent.height,
      midX: this._resizeProps.float.midX,
      midY: this._resizeProps.float.midY
    };
    this._resizeProps.stretch = {
      width: this._resizeProps.resize.width,
      height: this._resizeProps.resize.height
    };
    return this._resizeProps.pin = {
      maxX: this.parent.width - this.maxX,
      maxY: this.parent.height - this.maxY
    };
  };

  GroupResizeLayer.prototype._resizeChild = function(child) {
    var key, ref, results, updatedProps, value;
    updatedProps = {};
    updatedProps.floatX = {
      midX: child.parent.width * child._resizeProps.float.midX
    };
    updatedProps.floatY = {
      midY: child.parent.height * child._resizeProps.float.midY
    };
    updatedProps.float = {
      midX: child.parent.width * child._resizeProps.float.midX,
      midY: child.parent.height * child._resizeProps.float.midY
    };
    updatedProps.resizeWidth = {
      width: child.parent.width * child._resizeProps.resize.width,
      midX: updatedProps.float.midX
    };
    updatedProps.resizeHeight = {
      height: child.parent.height * child._resizeProps.resize.height,
      midY: updatedProps.float.midY
    };
    updatedProps.resize = {
      width: child.parent.width * child._resizeProps.resize.width,
      height: child.parent.height * child._resizeProps.resize.height,
      midX: updatedProps.float.midX,
      midY: updatedProps.float.midY
    };
    updatedProps.stretchWidth = {
      width: updatedProps.resize.width
    };
    updatedProps.stretchHeight = {
      height: updatedProps.resize.height
    };
    updatedProps.stretch = {
      width: updatedProps.resize.width,
      height: updatedProps.resize.height
    };
    updatedProps.pinX = {
      maxX: child.parent.width - child._resizeProps.pin.maxX
    };
    updatedProps.pinY = {
      maxY: child.parent.height - child._resizeProps.pin.maxY
    };
    updatedProps.pin = {
      maxX: child.parent.width - child._resizeProps.pin.maxX,
      maxY: child.parent.height - child._resizeProps.pin.maxY
    };
    ref = updatedProps[child.resizing];
    results = [];
    for (key in ref) {
      value = ref[key];
      results.push(child[key] = value);
    }
    return results;
  };

  GroupResizeLayer.define("resizeChildren", {
    get: function() {
      return this._resizeChildren;
    },
    set: function(value) {
      if (_.isBoolean(value) === false) {
        throw Error("ResizeChildren must be true or false");
      }
      if (value) {
        this.on("change:size", this._onResize);
      } else {
        this.off("change:size", this._onResize);
      }
      return this._resizeChildren = value;
    }
  });

  GroupResizeLayer.define("resizing", {
    get: function() {
      return this._resizing;
    },
    set: function(value) {
      if (_.indexOf(defaults.resizingTypes, value) === -1) {
        throw Error("'" + value + "' isn't a supported resizing type");
      }
      this.on("change:frame", this._setResizeProps);
      this.on("change:parent", this._setResizeProps);
      this._setResizeProps();
      return this._resizing = value;
    }
  });

  GroupResizeLayer.mixin = function(Class) {
    var capitalizeFirstLetter, cleanClassName, key, ref, value;
    cleanClassName = /layer/i.test(Class.name) ? "Layer" : Class.name;
    capitalizeFirstLetter = function(string) {
      return string.charAt(0).toUpperCase() + string.slice(1);
    };
    ref = defaults.props;
    for (key in ref) {
      value = ref[key];
      Framer.Defaults[cleanClassName][key] = value;
      Class.define(key, {
        configurable: true,
        get: this.prototype["get" + (capitalizeFirstLetter(key))],
        set: this.prototype["set" + (capitalizeFirstLetter(key))]
      });
    }
    Class.prototype._onResize = this.prototype._onResize;
    Class.prototype._setResizeProps = this.prototype._setResizeProps;
    return Class.prototype._resizeChild = this.prototype._resizeChild;
  };

  return GroupResizeLayer;

})(Layer);


},{}]},{},[])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi8uLi8uLi8uLi8uLi9Vc2Vycy9qb3NobXR1Y2tlci9HaXRIdWIvR3JvdXBSZXNpemUvR3JvdXBSZXNpemUuZnJhbWVyL21vZHVsZXMvR3JvdXBSZXNpemUuanMiLCIvVXNlcnMvam9zaG10dWNrZXIvR2l0SHViL0dyb3VwUmVzaXplL0dyb3VwUmVzaXplLmZyYW1lci9tb2R1bGVzL0dyb3VwUmVzaXplLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeExBLElBQUEsUUFBQTtFQUFBOzs7QUFBQSxRQUFBLEdBQ0M7RUFBQSxLQUFBLEVBQU87SUFBQSxjQUFBLEVBQWdCLElBQWhCO0lBQXNCLFFBQUEsRUFBVSxNQUFoQztHQUFQO0VBQ0EsYUFBQSxFQUFlLENBQUMsTUFBRCxFQUFTLGNBQVQsRUFBeUIsZUFBekIsRUFBMEMsU0FBMUMsRUFBcUQsTUFBckQsRUFBNkQsTUFBN0QsRUFBcUUsS0FBckUsRUFBNEUsYUFBNUUsRUFBMkYsY0FBM0YsRUFBMkcsUUFBM0csRUFBcUgsUUFBckgsRUFBK0gsUUFBL0gsRUFBeUksT0FBekksQ0FEZjs7O0FBR0ssT0FBTyxDQUFDOzs7RUFDQSwwQkFBQyxJQUFEO0FBRVosUUFBQTs7TUFGYSxPQUFLOztBQUVsQjtBQUFBLFNBQUEsVUFBQTs7O1FBQ0MsSUFBSyxDQUFBLEdBQUEsSUFBUTs7QUFEZDtJQUVBLGtEQUFNLElBQU47RUFKWTs7NkJBT2IsU0FBQSxHQUFXLFNBQUE7QUFFVixRQUFBO0lBQUEsSUFBVSxJQUFDLENBQUEsUUFBUSxDQUFDLE1BQVYsS0FBb0IsQ0FBOUI7QUFBQSxhQUFBOztBQUdBO0FBQUE7U0FBQSxxQ0FBQTs7VUFBNEIsS0FBSyxDQUFDLFFBQU4sS0FBb0I7cUJBQy9DLElBQUMsQ0FBQSxZQUFELENBQWMsS0FBZDs7QUFERDs7RUFMVTs7NkJBU1gsZUFBQSxHQUFpQixTQUFBO0lBRWhCLElBQVUsSUFBQyxDQUFBLE1BQUQsS0FBVyxJQUFyQjtBQUFBLGFBQUE7O0lBRUEsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7SUFHaEIsSUFBQyxDQUFBLFlBQVksQ0FBQyxLQUFkLEdBQ0M7TUFBQSxJQUFBLEVBQU0sSUFBQyxDQUFBLElBQUQsR0FBTSxJQUFDLENBQUEsTUFBTSxDQUFDLEtBQXBCO01BQ0EsSUFBQSxFQUFNLElBQUMsQ0FBQSxJQUFELEdBQU0sSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQURwQjs7SUFJRCxJQUFDLENBQUEsWUFBWSxDQUFDLE1BQWQsR0FDQztNQUFBLEtBQUEsRUFBTyxJQUFDLENBQUEsS0FBRCxHQUFPLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBdEI7TUFDQSxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BQUQsR0FBUSxJQUFDLENBQUEsTUFBTSxDQUFDLE1BRHhCO01BRUEsSUFBQSxFQUFNLElBQUMsQ0FBQSxZQUFZLENBQUMsS0FBSyxDQUFDLElBRjFCO01BR0EsSUFBQSxFQUFNLElBQUMsQ0FBQSxZQUFZLENBQUMsS0FBSyxDQUFDLElBSDFCOztJQU1ELElBQUMsQ0FBQSxZQUFZLENBQUMsT0FBZCxHQUNDO01BQUEsS0FBQSxFQUFPLElBQUMsQ0FBQSxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQTVCO01BQ0EsTUFBQSxFQUFRLElBQUMsQ0FBQSxZQUFZLENBQUMsTUFBTSxDQUFDLE1BRDdCOztXQUlELElBQUMsQ0FBQSxZQUFZLENBQUMsR0FBZCxHQUNDO01BQUEsSUFBQSxFQUFNLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBUixHQUFnQixJQUFDLENBQUEsSUFBdkI7TUFDQSxJQUFBLEVBQU0sSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLEdBQWlCLElBQUMsQ0FBQSxJQUR4Qjs7RUF6QmU7OzZCQTRCakIsWUFBQSxHQUFjLFNBQUMsS0FBRDtBQUNiLFFBQUE7SUFBQSxZQUFBLEdBQWU7SUFHZixZQUFZLENBQUMsTUFBYixHQUNDO01BQUEsSUFBQSxFQUFNLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBYixHQUFxQixLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFwRDs7SUFFRCxZQUFZLENBQUMsTUFBYixHQUNDO01BQUEsSUFBQSxFQUFNLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBYixHQUFzQixLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFyRDs7SUFFRCxZQUFZLENBQUMsS0FBYixHQUNDO01BQUEsSUFBQSxFQUFNLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBYixHQUFxQixLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFwRDtNQUNBLElBQUEsRUFBTSxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQWIsR0FBc0IsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFEckQ7O0lBSUQsWUFBWSxDQUFDLFdBQWIsR0FDQztNQUFBLEtBQUEsRUFBTyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQWIsR0FBcUIsS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsS0FBdEQ7TUFDQSxJQUFBLEVBQU0sWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUR6Qjs7SUFHRCxZQUFZLENBQUMsWUFBYixHQUNDO01BQUEsTUFBQSxFQUFRLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBYixHQUFzQixLQUFLLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxNQUF4RDtNQUNBLElBQUEsRUFBTSxZQUFZLENBQUMsS0FBSyxDQUFDLElBRHpCOztJQUdELFlBQVksQ0FBQyxNQUFiLEdBQ0M7TUFBQSxLQUFBLEVBQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFiLEdBQXFCLEtBQUssQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQXREO01BQ0EsTUFBQSxFQUFRLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBYixHQUFzQixLQUFLLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxNQUR4RDtNQUVBLElBQUEsRUFBTSxZQUFZLENBQUMsS0FBSyxDQUFDLElBRnpCO01BR0EsSUFBQSxFQUFNLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFIekI7O0lBTUQsWUFBWSxDQUFDLFlBQWIsR0FDQztNQUFBLEtBQUEsRUFBTyxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQTNCOztJQUVELFlBQVksQ0FBQyxhQUFiLEdBQ0M7TUFBQSxNQUFBLEVBQVEsWUFBWSxDQUFDLE1BQU0sQ0FBQyxNQUE1Qjs7SUFFRCxZQUFZLENBQUMsT0FBYixHQUNDO01BQUEsS0FBQSxFQUFPLFlBQVksQ0FBQyxNQUFNLENBQUMsS0FBM0I7TUFDQSxNQUFBLEVBQVEsWUFBWSxDQUFDLE1BQU0sQ0FBQyxNQUQ1Qjs7SUFJRCxZQUFZLENBQUMsSUFBYixHQUNDO01BQUEsSUFBQSxFQUFNLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBYixHQUFxQixLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFsRDs7SUFFRCxZQUFZLENBQUMsSUFBYixHQUNDO01BQUEsSUFBQSxFQUFNLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBYixHQUFzQixLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFuRDs7SUFFRCxZQUFZLENBQUMsR0FBYixHQUNDO01BQUEsSUFBQSxFQUFNLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBYixHQUFxQixLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFsRDtNQUNBLElBQUEsRUFBTSxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQWIsR0FBc0IsS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFEbkQ7O0FBSUQ7QUFBQTtTQUFBLFVBQUE7O21CQUNDLEtBQU0sQ0FBQSxHQUFBLENBQU4sR0FBYTtBQURkOztFQXBEYTs7RUF3RGQsZ0JBQUMsQ0FBQSxNQUFELENBQVEsZ0JBQVIsRUFDQztJQUFBLEdBQUEsRUFBSyxTQUFBO2FBQUcsSUFBQyxDQUFBO0lBQUosQ0FBTDtJQUNBLEdBQUEsRUFBSyxTQUFDLEtBQUQ7TUFFSixJQUFHLENBQUMsQ0FBQyxTQUFGLENBQVksS0FBWixDQUFBLEtBQXNCLEtBQXpCO0FBQ0MsY0FBTSxLQUFBLENBQU0sc0NBQU4sRUFEUDs7TUFJQSxJQUFHLEtBQUg7UUFBYyxJQUFDLENBQUEsRUFBRCxDQUFJLGFBQUosRUFBbUIsSUFBQyxDQUFBLFNBQXBCLEVBQWQ7T0FBQSxNQUFBO1FBQWtELElBQUMsQ0FBQSxHQUFELENBQUssYUFBTCxFQUFvQixJQUFDLENBQUEsU0FBckIsRUFBbEQ7O2FBR0EsSUFBQyxDQUFBLGVBQUQsR0FBbUI7SUFUZixDQURMO0dBREQ7O0VBY0EsZ0JBQUMsQ0FBQSxNQUFELENBQVEsVUFBUixFQUNDO0lBQUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUE7SUFBSixDQUFMO0lBQ0EsR0FBQSxFQUFLLFNBQUMsS0FBRDtNQUVKLElBQUcsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxRQUFRLENBQUMsYUFBbkIsRUFBa0MsS0FBbEMsQ0FBQSxLQUE0QyxDQUFDLENBQWhEO0FBQ0MsY0FBTSxLQUFBLENBQU0sR0FBQSxHQUFJLEtBQUosR0FBVSxtQ0FBaEIsRUFEUDs7TUFJQSxJQUFDLENBQUEsRUFBRCxDQUFJLGNBQUosRUFBb0IsSUFBQyxDQUFBLGVBQXJCO01BQ0EsSUFBQyxDQUFBLEVBQUQsQ0FBSSxlQUFKLEVBQXFCLElBQUMsQ0FBQSxlQUF0QjtNQUdBLElBQUMsQ0FBQSxlQUFELENBQUE7YUFHQSxJQUFDLENBQUEsU0FBRCxHQUFhO0lBYlQsQ0FETDtHQUREOztFQWtCQSxnQkFBQyxDQUFBLEtBQUQsR0FBUSxTQUFDLEtBQUQ7QUFFUCxRQUFBO0lBQUEsY0FBQSxHQUFvQixRQUFRLENBQUMsSUFBVCxDQUFjLEtBQUssQ0FBQyxJQUFwQixDQUFILEdBQWlDLE9BQWpDLEdBQThDLEtBQUssQ0FBQztJQUVyRSxxQkFBQSxHQUF3QixTQUFDLE1BQUQ7QUFDdkIsYUFBTyxNQUFNLENBQUMsTUFBUCxDQUFjLENBQWQsQ0FBZ0IsQ0FBQyxXQUFqQixDQUFBLENBQUEsR0FBaUMsTUFBTSxDQUFDLEtBQVAsQ0FBYSxDQUFiO0lBRGpCO0FBR3hCO0FBQUEsU0FBQSxVQUFBOztNQUNDLE1BQU0sQ0FBQyxRQUFTLENBQUEsY0FBQSxDQUFnQixDQUFBLEdBQUEsQ0FBaEMsR0FBdUM7TUFFdkMsS0FBSyxDQUFDLE1BQU4sQ0FBYSxHQUFiLEVBQ0M7UUFBQSxZQUFBLEVBQWMsSUFBZDtRQUNBLEdBQUEsRUFBSyxJQUFDLENBQUEsU0FBRyxDQUFBLEtBQUEsR0FBSyxDQUFDLHFCQUFBLENBQXNCLEdBQXRCLENBQUQsQ0FBTCxDQURUO1FBRUEsR0FBQSxFQUFLLElBQUMsQ0FBQSxTQUFHLENBQUEsS0FBQSxHQUFLLENBQUMscUJBQUEsQ0FBc0IsR0FBdEIsQ0FBRCxDQUFMLENBRlQ7T0FERDtBQUhEO0lBUUEsS0FBSyxDQUFBLFNBQUUsQ0FBQSxTQUFQLEdBQW1CLElBQUMsQ0FBQSxTQUFFLENBQUE7SUFDdEIsS0FBSyxDQUFBLFNBQUUsQ0FBQSxlQUFQLEdBQXlCLElBQUMsQ0FBQSxTQUFFLENBQUE7V0FDNUIsS0FBSyxDQUFBLFNBQUUsQ0FBQSxZQUFQLEdBQXNCLElBQUMsQ0FBQSxTQUFFLENBQUE7RUFqQmxCOzs7O0dBckk4QiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuOS4xXG52YXIgZGVmYXVsdHMsXG4gIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5kZWZhdWx0cyA9IHtcbiAgcHJvcHM6IHtcbiAgICByZXNpemVDaGlsZHJlbjogdHJ1ZSxcbiAgICByZXNpemluZzogXCJub25lXCJcbiAgfSxcbiAgcmVzaXppbmdUeXBlczogW1wibm9uZVwiLCBcInN0cmV0Y2hXaWR0aFwiLCBcInN0cmV0Y2hIZWlnaHRcIiwgXCJzdHJldGNoXCIsIFwicGluWFwiLCBcInBpbllcIiwgXCJwaW5cIiwgXCJyZXNpemVXaWR0aFwiLCBcInJlc2l6ZUhlaWdodFwiLCBcInJlc2l6ZVwiLCBcImZsb2F0WFwiLCBcImZsb2F0WVwiLCBcImZsb2F0XCJdXG59O1xuXG5leHBvcnRzLkdyb3VwUmVzaXplTGF5ZXIgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoR3JvdXBSZXNpemVMYXllciwgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gR3JvdXBSZXNpemVMYXllcihvcHRzKSB7XG4gICAgdmFyIGtleSwgcmVmLCB2YWx1ZTtcbiAgICBpZiAob3B0cyA9PSBudWxsKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIHJlZiA9IGRlZmF1bHRzLnByb3BzO1xuICAgIGZvciAoa2V5IGluIHJlZikge1xuICAgICAgdmFsdWUgPSByZWZba2V5XTtcbiAgICAgIGlmIChvcHRzW2tleV0gPT0gbnVsbCkge1xuICAgICAgICBvcHRzW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgR3JvdXBSZXNpemVMYXllci5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvcHRzKTtcbiAgfVxuXG4gIEdyb3VwUmVzaXplTGF5ZXIucHJvdG90eXBlLl9vblJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjaGlsZCwgaSwgbGVuLCByZWYsIHJlc3VsdHM7XG4gICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlZiA9IHRoaXMuY2hpbGRyZW47XG4gICAgcmVzdWx0cyA9IFtdO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY2hpbGQgPSByZWZbaV07XG4gICAgICBpZiAoY2hpbGQucmVzaXppbmcgIT09IFwibm9uZVwiKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLl9yZXNpemVDaGlsZChjaGlsZCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICBHcm91cFJlc2l6ZUxheWVyLnByb3RvdHlwZS5fc2V0UmVzaXplUHJvcHMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcmVzaXplUHJvcHMgPSB7fTtcbiAgICB0aGlzLl9yZXNpemVQcm9wcy5mbG9hdCA9IHtcbiAgICAgIG1pZFg6IHRoaXMubWlkWCAvIHRoaXMucGFyZW50LndpZHRoLFxuICAgICAgbWlkWTogdGhpcy5taWRZIC8gdGhpcy5wYXJlbnQuaGVpZ2h0XG4gICAgfTtcbiAgICB0aGlzLl9yZXNpemVQcm9wcy5yZXNpemUgPSB7XG4gICAgICB3aWR0aDogdGhpcy53aWR0aCAvIHRoaXMucGFyZW50LndpZHRoLFxuICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCAvIHRoaXMucGFyZW50LmhlaWdodCxcbiAgICAgIG1pZFg6IHRoaXMuX3Jlc2l6ZVByb3BzLmZsb2F0Lm1pZFgsXG4gICAgICBtaWRZOiB0aGlzLl9yZXNpemVQcm9wcy5mbG9hdC5taWRZXG4gICAgfTtcbiAgICB0aGlzLl9yZXNpemVQcm9wcy5zdHJldGNoID0ge1xuICAgICAgd2lkdGg6IHRoaXMuX3Jlc2l6ZVByb3BzLnJlc2l6ZS53aWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy5fcmVzaXplUHJvcHMucmVzaXplLmhlaWdodFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZVByb3BzLnBpbiA9IHtcbiAgICAgIG1heFg6IHRoaXMucGFyZW50LndpZHRoIC0gdGhpcy5tYXhYLFxuICAgICAgbWF4WTogdGhpcy5wYXJlbnQuaGVpZ2h0IC0gdGhpcy5tYXhZXG4gICAgfTtcbiAgfTtcblxuICBHcm91cFJlc2l6ZUxheWVyLnByb3RvdHlwZS5fcmVzaXplQ2hpbGQgPSBmdW5jdGlvbihjaGlsZCkge1xuICAgIHZhciBrZXksIHJlZiwgcmVzdWx0cywgdXBkYXRlZFByb3BzLCB2YWx1ZTtcbiAgICB1cGRhdGVkUHJvcHMgPSB7fTtcbiAgICB1cGRhdGVkUHJvcHMuZmxvYXRYID0ge1xuICAgICAgbWlkWDogY2hpbGQucGFyZW50LndpZHRoICogY2hpbGQuX3Jlc2l6ZVByb3BzLmZsb2F0Lm1pZFhcbiAgICB9O1xuICAgIHVwZGF0ZWRQcm9wcy5mbG9hdFkgPSB7XG4gICAgICBtaWRZOiBjaGlsZC5wYXJlbnQuaGVpZ2h0ICogY2hpbGQuX3Jlc2l6ZVByb3BzLmZsb2F0Lm1pZFlcbiAgICB9O1xuICAgIHVwZGF0ZWRQcm9wcy5mbG9hdCA9IHtcbiAgICAgIG1pZFg6IGNoaWxkLnBhcmVudC53aWR0aCAqIGNoaWxkLl9yZXNpemVQcm9wcy5mbG9hdC5taWRYLFxuICAgICAgbWlkWTogY2hpbGQucGFyZW50LmhlaWdodCAqIGNoaWxkLl9yZXNpemVQcm9wcy5mbG9hdC5taWRZXG4gICAgfTtcbiAgICB1cGRhdGVkUHJvcHMucmVzaXplV2lkdGggPSB7XG4gICAgICB3aWR0aDogY2hpbGQucGFyZW50LndpZHRoICogY2hpbGQuX3Jlc2l6ZVByb3BzLnJlc2l6ZS53aWR0aCxcbiAgICAgIG1pZFg6IHVwZGF0ZWRQcm9wcy5mbG9hdC5taWRYXG4gICAgfTtcbiAgICB1cGRhdGVkUHJvcHMucmVzaXplSGVpZ2h0ID0ge1xuICAgICAgaGVpZ2h0OiBjaGlsZC5wYXJlbnQuaGVpZ2h0ICogY2hpbGQuX3Jlc2l6ZVByb3BzLnJlc2l6ZS5oZWlnaHQsXG4gICAgICBtaWRZOiB1cGRhdGVkUHJvcHMuZmxvYXQubWlkWVxuICAgIH07XG4gICAgdXBkYXRlZFByb3BzLnJlc2l6ZSA9IHtcbiAgICAgIHdpZHRoOiBjaGlsZC5wYXJlbnQud2lkdGggKiBjaGlsZC5fcmVzaXplUHJvcHMucmVzaXplLndpZHRoLFxuICAgICAgaGVpZ2h0OiBjaGlsZC5wYXJlbnQuaGVpZ2h0ICogY2hpbGQuX3Jlc2l6ZVByb3BzLnJlc2l6ZS5oZWlnaHQsXG4gICAgICBtaWRYOiB1cGRhdGVkUHJvcHMuZmxvYXQubWlkWCxcbiAgICAgIG1pZFk6IHVwZGF0ZWRQcm9wcy5mbG9hdC5taWRZXG4gICAgfTtcbiAgICB1cGRhdGVkUHJvcHMuc3RyZXRjaFdpZHRoID0ge1xuICAgICAgd2lkdGg6IHVwZGF0ZWRQcm9wcy5yZXNpemUud2lkdGhcbiAgICB9O1xuICAgIHVwZGF0ZWRQcm9wcy5zdHJldGNoSGVpZ2h0ID0ge1xuICAgICAgaGVpZ2h0OiB1cGRhdGVkUHJvcHMucmVzaXplLmhlaWdodFxuICAgIH07XG4gICAgdXBkYXRlZFByb3BzLnN0cmV0Y2ggPSB7XG4gICAgICB3aWR0aDogdXBkYXRlZFByb3BzLnJlc2l6ZS53aWR0aCxcbiAgICAgIGhlaWdodDogdXBkYXRlZFByb3BzLnJlc2l6ZS5oZWlnaHRcbiAgICB9O1xuICAgIHVwZGF0ZWRQcm9wcy5waW5YID0ge1xuICAgICAgbWF4WDogY2hpbGQucGFyZW50LndpZHRoIC0gY2hpbGQuX3Jlc2l6ZVByb3BzLnBpbi5tYXhYXG4gICAgfTtcbiAgICB1cGRhdGVkUHJvcHMucGluWSA9IHtcbiAgICAgIG1heFk6IGNoaWxkLnBhcmVudC5oZWlnaHQgLSBjaGlsZC5fcmVzaXplUHJvcHMucGluLm1heFlcbiAgICB9O1xuICAgIHVwZGF0ZWRQcm9wcy5waW4gPSB7XG4gICAgICBtYXhYOiBjaGlsZC5wYXJlbnQud2lkdGggLSBjaGlsZC5fcmVzaXplUHJvcHMucGluLm1heFgsXG4gICAgICBtYXhZOiBjaGlsZC5wYXJlbnQuaGVpZ2h0IC0gY2hpbGQuX3Jlc2l6ZVByb3BzLnBpbi5tYXhZXG4gICAgfTtcbiAgICByZWYgPSB1cGRhdGVkUHJvcHNbY2hpbGQucmVzaXppbmddO1xuICAgIHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGtleSBpbiByZWYpIHtcbiAgICAgIHZhbHVlID0gcmVmW2tleV07XG4gICAgICByZXN1bHRzLnB1c2goY2hpbGRba2V5XSA9IHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgR3JvdXBSZXNpemVMYXllci5kZWZpbmUoXCJyZXNpemVDaGlsZHJlblwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXNpemVDaGlsZHJlbjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChfLmlzQm9vbGVhbih2YWx1ZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiUmVzaXplQ2hpbGRyZW4gbXVzdCBiZSB0cnVlIG9yIGZhbHNlXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoaXMub24oXCJjaGFuZ2U6c2l6ZVwiLCB0aGlzLl9vblJlc2l6ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9mZihcImNoYW5nZTpzaXplXCIsIHRoaXMuX29uUmVzaXplKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9yZXNpemVDaGlsZHJlbiA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgR3JvdXBSZXNpemVMYXllci5kZWZpbmUoXCJyZXNpemluZ1wiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXNpemluZztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChfLmluZGV4T2YoZGVmYXVsdHMucmVzaXppbmdUeXBlcywgdmFsdWUpID09PSAtMSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIidcIiArIHZhbHVlICsgXCInIGlzbid0IGEgc3VwcG9ydGVkIHJlc2l6aW5nIHR5cGVcIik7XG4gICAgICB9XG4gICAgICB0aGlzLm9uKFwiY2hhbmdlOmZyYW1lXCIsIHRoaXMuX3NldFJlc2l6ZVByb3BzKTtcbiAgICAgIHRoaXMub24oXCJjaGFuZ2U6cGFyZW50XCIsIHRoaXMuX3NldFJlc2l6ZVByb3BzKTtcbiAgICAgIHRoaXMuX3NldFJlc2l6ZVByb3BzKCk7XG4gICAgICByZXR1cm4gdGhpcy5fcmVzaXppbmcgPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIEdyb3VwUmVzaXplTGF5ZXIubWl4aW4gPSBmdW5jdGlvbihDbGFzcykge1xuICAgIHZhciBjYXBpdGFsaXplRmlyc3RMZXR0ZXIsIGNsZWFuQ2xhc3NOYW1lLCBrZXksIHJlZiwgdmFsdWU7XG4gICAgY2xlYW5DbGFzc05hbWUgPSAvbGF5ZXIvaS50ZXN0KENsYXNzLm5hbWUpID8gXCJMYXllclwiIDogQ2xhc3MubmFtZTtcbiAgICBjYXBpdGFsaXplRmlyc3RMZXR0ZXIgPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG4gICAgfTtcbiAgICByZWYgPSBkZWZhdWx0cy5wcm9wcztcbiAgICBmb3IgKGtleSBpbiByZWYpIHtcbiAgICAgIHZhbHVlID0gcmVmW2tleV07XG4gICAgICBGcmFtZXIuRGVmYXVsdHNbY2xlYW5DbGFzc05hbWVdW2tleV0gPSB2YWx1ZTtcbiAgICAgIENsYXNzLmRlZmluZShrZXksIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IHRoaXMucHJvdG90eXBlW1wiZ2V0XCIgKyAoY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKGtleSkpXSxcbiAgICAgICAgc2V0OiB0aGlzLnByb3RvdHlwZVtcInNldFwiICsgKGNhcGl0YWxpemVGaXJzdExldHRlcihrZXkpKV1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBDbGFzcy5wcm90b3R5cGUuX29uUmVzaXplID0gdGhpcy5wcm90b3R5cGUuX29uUmVzaXplO1xuICAgIENsYXNzLnByb3RvdHlwZS5fc2V0UmVzaXplUHJvcHMgPSB0aGlzLnByb3RvdHlwZS5fc2V0UmVzaXplUHJvcHM7XG4gICAgcmV0dXJuIENsYXNzLnByb3RvdHlwZS5fcmVzaXplQ2hpbGQgPSB0aGlzLnByb3RvdHlwZS5fcmVzaXplQ2hpbGQ7XG4gIH07XG5cbiAgcmV0dXJuIEdyb3VwUmVzaXplTGF5ZXI7XG5cbn0pKExheWVyKTtcbiIsImRlZmF1bHRzID1cblx0cHJvcHM6IHJlc2l6ZUNoaWxkcmVuOiB0cnVlLCByZXNpemluZzogXCJub25lXCIgXG5cdHJlc2l6aW5nVHlwZXM6IFtcIm5vbmVcIiwgXCJzdHJldGNoV2lkdGhcIiwgXCJzdHJldGNoSGVpZ2h0XCIsIFwic3RyZXRjaFwiLCBcInBpblhcIiwgXCJwaW5ZXCIsIFwicGluXCIsIFwicmVzaXplV2lkdGhcIiwgXCJyZXNpemVIZWlnaHRcIiwgXCJyZXNpemVcIiwgXCJmbG9hdFhcIiwgXCJmbG9hdFlcIiwgXCJmbG9hdFwiXVxuXG5jbGFzcyBleHBvcnRzLkdyb3VwUmVzaXplTGF5ZXIgZXh0ZW5kcyBMYXllclxuXHRjb25zdHJ1Y3RvcjogKG9wdHM9e30pIC0+XG5cdFx0IyBTZXQgZGVmYXVsdHNcblx0XHRmb3Iga2V5LCB2YWx1ZSBvZiBkZWZhdWx0cy5wcm9wc1xuXHRcdFx0b3B0c1trZXldID89IHZhbHVlIFxuXHRcdHN1cGVyIG9wdHNcblx0XG5cdCMgRlVOQ1RJT05TIOKAkyBQYXJlbnRcdFxuXHRfb25SZXNpemU6IC0+XG5cdFx0IyBSZXR1cm4gaWYgbm8gY2hpbGRyZW5cblx0XHRyZXR1cm4gaWYgQGNoaWxkcmVuLmxlbmd0aCBpcyAwXG5cdFx0XG5cdFx0IyBSZXNpemUgY2hpbGRyZW5cblx0XHRmb3IgY2hpbGQgaW4gQGNoaWxkcmVuIHdoZW4gY2hpbGQucmVzaXppbmcgaXNudCBcIm5vbmVcIlxuXHRcdFx0QF9yZXNpemVDaGlsZChjaGlsZClcblx0XHRcdFx0XG5cdCMgRlVOQ1RJT05TIOKAkyBDaGlsZFxuXHRfc2V0UmVzaXplUHJvcHM6IC0+XG5cdFx0IyBSZXR1cm4gaWYgbm8gcGFyZW50XG5cdFx0cmV0dXJuIGlmIEBwYXJlbnQgaXMgbnVsbFxuXHRcdFxuXHRcdEBfcmVzaXplUHJvcHMgPSB7fVxuXHRcdFxuXHRcdCMgRmxvYXRcblx0XHRAX3Jlc2l6ZVByb3BzLmZsb2F0ID0gXG5cdFx0XHRtaWRYOiBAbWlkWC9AcGFyZW50LndpZHRoXG5cdFx0XHRtaWRZOiBAbWlkWS9AcGFyZW50LmhlaWdodFxuXHRcdFxuXHRcdCMgUmVzaXplXG5cdFx0QF9yZXNpemVQcm9wcy5yZXNpemUgPSBcblx0XHRcdHdpZHRoOiBAd2lkdGgvQHBhcmVudC53aWR0aFxuXHRcdFx0aGVpZ2h0OiBAaGVpZ2h0L0BwYXJlbnQuaGVpZ2h0XG5cdFx0XHRtaWRYOiBAX3Jlc2l6ZVByb3BzLmZsb2F0Lm1pZFhcblx0XHRcdG1pZFk6IEBfcmVzaXplUHJvcHMuZmxvYXQubWlkWVxuXHRcdFxuXHRcdCMgU3RyZXRjaFx0XG5cdFx0QF9yZXNpemVQcm9wcy5zdHJldGNoID0gXG5cdFx0XHR3aWR0aDogQF9yZXNpemVQcm9wcy5yZXNpemUud2lkdGhcblx0XHRcdGhlaWdodDogQF9yZXNpemVQcm9wcy5yZXNpemUuaGVpZ2h0XG5cdFx0XG5cdFx0IyBQaW5cblx0XHRAX3Jlc2l6ZVByb3BzLnBpbiA9IFxuXHRcdFx0bWF4WDogQHBhcmVudC53aWR0aCAtIEBtYXhYXG5cdFx0XHRtYXhZOiBAcGFyZW50LmhlaWdodCAtIEBtYXhZXG5cdFx0XHRcdFx0XG5cdF9yZXNpemVDaGlsZDogKGNoaWxkKSAtPlxuXHRcdHVwZGF0ZWRQcm9wcyA9IHt9XG5cdFx0XG5cdFx0IyBGTE9BVFxuXHRcdHVwZGF0ZWRQcm9wcy5mbG9hdFggPSBcblx0XHRcdG1pZFg6IGNoaWxkLnBhcmVudC53aWR0aCAqIGNoaWxkLl9yZXNpemVQcm9wcy5mbG9hdC5taWRYXG5cdFx0XG5cdFx0dXBkYXRlZFByb3BzLmZsb2F0WSA9IFxuXHRcdFx0bWlkWTogY2hpbGQucGFyZW50LmhlaWdodCAqIGNoaWxkLl9yZXNpemVQcm9wcy5mbG9hdC5taWRZXG5cdFx0XG5cdFx0dXBkYXRlZFByb3BzLmZsb2F0ID0gXG5cdFx0XHRtaWRYOiBjaGlsZC5wYXJlbnQud2lkdGggKiBjaGlsZC5fcmVzaXplUHJvcHMuZmxvYXQubWlkWFxuXHRcdFx0bWlkWTogY2hpbGQucGFyZW50LmhlaWdodCAqIGNoaWxkLl9yZXNpemVQcm9wcy5mbG9hdC5taWRZXG5cdFx0XG5cdFx0IyBSRVNJWkVcblx0XHR1cGRhdGVkUHJvcHMucmVzaXplV2lkdGggPSBcblx0XHRcdHdpZHRoOiBjaGlsZC5wYXJlbnQud2lkdGggKiBjaGlsZC5fcmVzaXplUHJvcHMucmVzaXplLndpZHRoXG5cdFx0XHRtaWRYOiB1cGRhdGVkUHJvcHMuZmxvYXQubWlkWFxuXHRcdFx0XG5cdFx0dXBkYXRlZFByb3BzLnJlc2l6ZUhlaWdodCA9IFx0XG5cdFx0XHRoZWlnaHQ6IGNoaWxkLnBhcmVudC5oZWlnaHQgKiBjaGlsZC5fcmVzaXplUHJvcHMucmVzaXplLmhlaWdodFxuXHRcdFx0bWlkWTogdXBkYXRlZFByb3BzLmZsb2F0Lm1pZFlcblx0XHRcblx0XHR1cGRhdGVkUHJvcHMucmVzaXplID0gXG5cdFx0XHR3aWR0aDogY2hpbGQucGFyZW50LndpZHRoICogY2hpbGQuX3Jlc2l6ZVByb3BzLnJlc2l6ZS53aWR0aFxuXHRcdFx0aGVpZ2h0OiBjaGlsZC5wYXJlbnQuaGVpZ2h0ICogY2hpbGQuX3Jlc2l6ZVByb3BzLnJlc2l6ZS5oZWlnaHRcblx0XHRcdG1pZFg6IHVwZGF0ZWRQcm9wcy5mbG9hdC5taWRYXG5cdFx0XHRtaWRZOiB1cGRhdGVkUHJvcHMuZmxvYXQubWlkWVxuXHRcdFxuXHRcdCMgU1RSRVRDSFxuXHRcdHVwZGF0ZWRQcm9wcy5zdHJldGNoV2lkdGggPSBcblx0XHRcdHdpZHRoOiB1cGRhdGVkUHJvcHMucmVzaXplLndpZHRoXG5cdFxuXHRcdHVwZGF0ZWRQcm9wcy5zdHJldGNoSGVpZ2h0ID0gXG5cdFx0XHRoZWlnaHQ6IHVwZGF0ZWRQcm9wcy5yZXNpemUuaGVpZ2h0XG5cdFxuXHRcdHVwZGF0ZWRQcm9wcy5zdHJldGNoID0gXG5cdFx0XHR3aWR0aDogdXBkYXRlZFByb3BzLnJlc2l6ZS53aWR0aFxuXHRcdFx0aGVpZ2h0OiB1cGRhdGVkUHJvcHMucmVzaXplLmhlaWdodFxuXHRcdFx0XG5cdFx0IyBQSU4gXG5cdFx0dXBkYXRlZFByb3BzLnBpblggPSBcblx0XHRcdG1heFg6IGNoaWxkLnBhcmVudC53aWR0aCAtIGNoaWxkLl9yZXNpemVQcm9wcy5waW4ubWF4WFxuXHRcdFxuXHRcdHVwZGF0ZWRQcm9wcy5waW5ZID0gXG5cdFx0XHRtYXhZOiBjaGlsZC5wYXJlbnQuaGVpZ2h0IC0gY2hpbGQuX3Jlc2l6ZVByb3BzLnBpbi5tYXhZXG5cdFx0XG5cdFx0dXBkYXRlZFByb3BzLnBpbiA9IFxuXHRcdFx0bWF4WDogY2hpbGQucGFyZW50LndpZHRoIC0gY2hpbGQuX3Jlc2l6ZVByb3BzLnBpbi5tYXhYXG5cdFx0XHRtYXhZOiBjaGlsZC5wYXJlbnQuaGVpZ2h0IC0gY2hpbGQuX3Jlc2l6ZVByb3BzLnBpbi5tYXhZXG5cdFx0XHRcblx0XHQjIFNldCB1c2luZyB1cGRhdGVkUHJvcHNcblx0XHRmb3Iga2V5LCB2YWx1ZSBvZiB1cGRhdGVkUHJvcHNbY2hpbGQucmVzaXppbmddXG5cdFx0XHRjaGlsZFtrZXldID0gdmFsdWVcblx0XHRcdFxuXHQjIERFRklOSVRJT05TIOKAkyBQYXJlbnRcdFxuXHRAZGVmaW5lIFwicmVzaXplQ2hpbGRyZW5cIixcdFxuXHRcdGdldDogLT4gQF9yZXNpemVDaGlsZHJlblxuXHRcdHNldDogKHZhbHVlKSAtPlxuXHRcdFx0IyBFcnJvciBpZiBub3QgYm9vbGVhblxuXHRcdFx0aWYgXy5pc0Jvb2xlYW4odmFsdWUpIGlzIGZhbHNlIFxuXHRcdFx0XHR0aHJvdyBFcnJvciBcIlJlc2l6ZUNoaWxkcmVuIG11c3QgYmUgdHJ1ZSBvciBmYWxzZVwiXG5cdFx0XHRcdFxuXHRcdFx0IyBBZGQgb3IgcmVtb3ZlIGxpc3RlbmVyXG5cdFx0XHRpZiB2YWx1ZSB0aGVuIEBvbihcImNoYW5nZTpzaXplXCIsIEBfb25SZXNpemUpIGVsc2UgQG9mZihcImNoYW5nZTpzaXplXCIsIEBfb25SZXNpemUpXHRcblx0XHRcdFxuXHRcdFx0IyBTZXQgdmFsdWVcblx0XHRcdEBfcmVzaXplQ2hpbGRyZW4gPSB2YWx1ZVxuXHRcdFx0XG5cdCMgREVGSU5JVElPTlMg4oCTIENoaWxkIFxuXHRAZGVmaW5lIFwicmVzaXppbmdcIixcblx0XHRnZXQ6IC0+IEBfcmVzaXppbmdcblx0XHRzZXQ6ICh2YWx1ZSkgLT5cblx0XHRcdCMgRXJyb3IgaWYgbm90IGEgc3VwcG9ydGVkIHR5cGVcblx0XHRcdGlmIF8uaW5kZXhPZihkZWZhdWx0cy5yZXNpemluZ1R5cGVzLCB2YWx1ZSkgaXMgLTFcblx0XHRcdFx0dGhyb3cgRXJyb3IgXCInI3t2YWx1ZX0nIGlzbid0IGEgc3VwcG9ydGVkIHJlc2l6aW5nIHR5cGVcIlxuXHRcdFx0XHRcblx0XHRcdCMgRXZlbnQgbGlzdGVuZXJzXG5cdFx0XHRAb24oXCJjaGFuZ2U6ZnJhbWVcIiwgQF9zZXRSZXNpemVQcm9wcylcblx0XHRcdEBvbihcImNoYW5nZTpwYXJlbnRcIiwgQF9zZXRSZXNpemVQcm9wcylcblx0XHRcdFxuXHRcdFx0IyBTZXQgcmVzaXplIHByb3BzXG5cdFx0XHRAX3NldFJlc2l6ZVByb3BzKClcblx0XHRcdFxuXHRcdFx0IyBTZXQgdmFsdWVcblx0XHRcdEBfcmVzaXppbmcgPSB2YWx1ZVxuXHRcdFxuXHQjIE1peGluXG5cdEBtaXhpbjogKENsYXNzKSAtPlxuXHRcdCMgRml4IGZvciBNb2JpbGVTY3JvbGxMYXllclxuXHRcdGNsZWFuQ2xhc3NOYW1lID0gaWYgL2xheWVyL2kudGVzdCBDbGFzcy5uYW1lIHRoZW4gXCJMYXllclwiIGVsc2UgQ2xhc3MubmFtZVxuXHRcdFxuXHRcdGNhcGl0YWxpemVGaXJzdExldHRlciA9IChzdHJpbmcpIC0+XG5cdFx0XHRyZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpXG5cdFx0XG5cdFx0Zm9yIGtleSwgdmFsdWUgb2YgZGVmYXVsdHMucHJvcHNcblx0XHRcdEZyYW1lci5EZWZhdWx0c1tjbGVhbkNsYXNzTmFtZV1ba2V5XSA9IHZhbHVlIFxuXHRcdFx0XG5cdFx0XHRDbGFzcy5kZWZpbmUga2V5LFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0Z2V0OiBAOjpbXCJnZXQje2NhcGl0YWxpemVGaXJzdExldHRlciBrZXl9XCJdXG5cdFx0XHRcdHNldDogQDo6W1wic2V0I3tjYXBpdGFsaXplRmlyc3RMZXR0ZXIga2V5fVwiXVxuXHRcdFx0XHRcblx0XHRDbGFzczo6X29uUmVzaXplID0gQDo6X29uUmVzaXplXG5cdFx0Q2xhc3M6Ol9zZXRSZXNpemVQcm9wcyA9IEA6Ol9zZXRSZXNpemVQcm9wc1xuXHRcdENsYXNzOjpfcmVzaXplQ2hpbGQgPSBAOjpfcmVzaXplQ2hpbGQiXX0=
